{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "condition.json",
  "definitions": {
    "ConditionOperator": {
      "enum": [
        "==",
        "!="
      ],
      "type": "string"
    },
    "ConditionVariable": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "variable",
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "ConditionValue": {
      "type": ["string", "boolean", "number"]
    },
    "Condition": {
      "oneOf": [
        { "$ref": "#/definitions/ConditionVariable" },
        { "$ref": "#/definitions/ConditionValue" }
      ]
    },
    "If": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "left": { "$ref": "condition.json" },
        "operator": { "$ref": "condition.json#/definitions/ConditionOperator" },
        "right": { "$ref": "condition.json" }
      }
    }
  },
  "$ref": "#/definitions/Condition"
}
